<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 350" width="700" height="350"
     font-family="Arial, 'Apple SD Gothic Neo', sans-serif">
  <defs>
    <marker id="arrowOrange" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto" fill="#ff9944">
      <polygon points="0 0, 10 3.5, 0 7"/>
    </marker>
    <filter id="shadow">
      <feDropShadow dx="1" dy="1" stdDeviation="1.5" flood-color="#00000022"/>
    </filter>
    <linearGradient id="bgGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#f8f9ff"/>
      <stop offset="100%" stop-color="#eef1ff"/>
    </linearGradient>
    <radialGradient id="siGrad" cx="35%" cy="35%">
      <stop offset="0%" stop-color="#6ab0f0"/>
      <stop offset="100%" stop-color="#4a90d9"/>
    </radialGradient>
    <radialGradient id="dopantRedGrad" cx="35%" cy="35%">
      <stop offset="0%" stop-color="#ff8080"/>
      <stop offset="100%" stop-color="#e85d5d"/>
    </radialGradient>
    <radialGradient id="dopantGreenGrad" cx="35%" cy="35%">
      <stop offset="0%" stop-color="#80ff80"/>
      <stop offset="100%" stop-color="#5de85d"/>
    </radialGradient>
  </defs>

  <!-- Background -->
  <rect width="700" height="350" fill="url(#bgGrad)" rx="8"/>

  <!-- Title -->
  <text x="350" y="25" text-anchor="middle" font-size="15" font-weight="bold" fill="#2c3e50">어닐링 전후 격자 구조 비교 (Lattice Recovery After Annealing)</text>

  <!-- Left Panel: Before Anneal -->
  <rect x="30" y="50" width="290" height="250" fill="white" stroke="#d0d8e0" stroke-width="1.5" rx="8" opacity="0.9"/>
  <text x="175" y="70" text-anchor="middle" font-size="13" font-weight="bold" fill="#e85d5d">주입 직후 (After Implant)</text>
  <text x="175" y="85" text-anchor="middle" font-size="10" fill="#8899aa">비정질 영역 (Amorphous Region)</text>
  <circle cx="66.95197517841038" cy="98.35015057311733" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="93.85041045716767" cy="101.12495033408352" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="132.31059699829618" cy="107.47379282392076" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="166.49051394786784" cy="99.21714365681183" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="191.9069054755938" cy="98.41716107213298" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="221.06093164725044" cy="105.07497403344708" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="250.37150357557408" cy="100.78372710961308" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="67.09838212891333" cy="137.62918072844502" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="93.08616870856976" cy="138.2497195742627" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="141.83491551099684" cy="126.95849690089204" r="6" fill="url(#dopantRedGrad)" stroke="#cc4444" stroke-width="0.8"/>
  <circle cx="157.01439266950624" cy="140.68891780609133" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="187.4309438712779" cy="135.31898220892273" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="223.0257113267848" cy="134.8153801147056" r="7" fill="white" stroke="#d0d8e0" stroke-width="1.5" stroke-dasharray="3,2"/>
  <circle cx="253.7032921411082" cy="130.60830620092335" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="64.43194831540579" cy="163.74756627994492" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="102.91213520839423" cy="163.10320277309842" r="7" fill="white" stroke="#d0d8e0" stroke-width="1.5" stroke-dasharray="3,2"/>
  <circle cx="126.1044959396993" cy="170.8009571929222" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="166.3963244711153" cy="167.06289036633768" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="204.96757991140626" cy="155.08867087603545" r="6" fill="url(#dopantRedGrad)" stroke="#cc4444" stroke-width="0.8"/>
  <circle cx="230.13077133457378" cy="167.32176715054834" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="256.3477442331581" cy="173.6775459729705" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="60.277157360185186" cy="198.9737898031853" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="99.38245244128771" cy="203.8254843884197" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="131.56966731751334" cy="194.99963513409966" r="7" fill="white" stroke="#d0d8e0" stroke-width="1.5" stroke-dasharray="3,2"/>
  <circle cx="162.88969603475886" cy="201.4779582784159" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="189.42735295211997" cy="200.47164296591563" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="212.87102824940013" cy="188.89231449406074" r="6" fill="url(#dopantRedGrad)" stroke="#cc4444" stroke-width="0.8"/>
  <circle cx="253.20667300749747" cy="194.44940341465653" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="62.41634267282715" cy="229.74837226365983" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="110.25820575883601" cy="242.27575926432485" r="6" fill="url(#dopantRedGrad)" stroke="#cc4444" stroke-width="0.8"/>
  <circle cx="127.5388466148493" cy="238.80366625636762" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="160.42392593622358" cy="229.70832233097275" r="7" fill="white" stroke="#d0d8e0" stroke-width="1.5" stroke-dasharray="3,2"/>
  <circle cx="189.45278510771575" cy="233.8591538782841" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="221.6783825193211" cy="234.18420386312957" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="262.5695203704347" cy="231.59160707196557" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="61.070490628201966" cy="271.96552649093155" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="97.1333681114705" cy="259.2727317704331" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="122.65962925594629" cy="259.5350878249092" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="162.78424458384325" cy="269.08911110108147" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="191.9102395351956" cy="258.8893878861274" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="223.3426700110915" cy="271.94569932336134" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <circle cx="257.4076008313879" cy="271.59509728659066" r="7" fill="url(#siGrad)" opacity="0.85"/>
  <text x="45" y="285" font-size="9" fill="#aa6666">⚡ 격자 손상 (Lattice Damage)</text>
  <text x="45" y="297" font-size="8" fill="#888">불순물: 간격자 위치 (Interstitial) → 비활성</text>

  <!-- Transition Arrow -->
  <line x1="335" y1="175" x2="375" y2="175" stroke="#ff9944" stroke-width="3" marker-end="url(#arrowOrange)"/>
  <text x="355" y="153" text-anchor="middle" font-size="10" font-weight="bold" fill="#ff9944">RTA</text>
  <text x="355" y="165" text-anchor="middle" font-size="8" fill="#ff9944">~1000°C</text>
  <text x="355" y="193" text-anchor="middle" font-size="8" fill="#888">열에너지</text>
  <text x="355" y="205" text-anchor="middle" font-size="8" fill="#888">(Heat Energy)</text>

  <!-- Heat wave decoration -->
  <path d="M 340 210 Q 347 205, 355 210 Q 363 215, 370 210" stroke="#ffaa55" stroke-width="1.5" fill="none" opacity="0.6"/>
  <path d="M 340 217 Q 347 212, 355 217 Q 363 222, 370 217" stroke="#ffaa55" stroke-width="1" fill="none" opacity="0.4"/>

  <!-- Right Panel: After Anneal -->
  <rect x="380" y="50" width="290" height="250" fill="white" stroke="#d0d8e0" stroke-width="1.5" rx="8" opacity="0.9"/>
  <text x="525" y="70" text-anchor="middle" font-size="13" font-weight="bold" fill="#5de85d">어닐링 후 (After Anneal)</text>
  <text x="525" y="85" text-anchor="middle" font-size="10" fill="#8899aa">재결정화 (Recrystallized)</text>
  <circle cx="415" cy="105" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="447" cy="105" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="479" cy="105" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="511" cy="105" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="543" cy="105" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="575" cy="105" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="607" cy="105" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="415" cy="137" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="447" cy="137" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="479" cy="137" r="7" fill="url(#dopantGreenGrad)" stroke="#44aa44" stroke-width="1"/>
  <circle cx="479" cy="137" r="10" fill="none" stroke="#44cc44" stroke-width="0.8" opacity="0.5"/>
  <circle cx="511" cy="137" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="543" cy="137" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="575" cy="137" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="607" cy="137" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="415" cy="169" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="447" cy="169" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="479" cy="169" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="511" cy="169" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="543" cy="169" r="7" fill="url(#dopantGreenGrad)" stroke="#44aa44" stroke-width="1"/>
  <circle cx="543" cy="169" r="10" fill="none" stroke="#44cc44" stroke-width="0.8" opacity="0.5"/>
  <circle cx="575" cy="169" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="607" cy="169" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="415" cy="201" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="447" cy="201" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="479" cy="201" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="511" cy="201" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="543" cy="201" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="575" cy="201" r="7" fill="url(#dopantGreenGrad)" stroke="#44aa44" stroke-width="1"/>
  <circle cx="575" cy="201" r="10" fill="none" stroke="#44cc44" stroke-width="0.8" opacity="0.5"/>
  <circle cx="607" cy="201" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="415" cy="233" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="447" cy="233" r="7" fill="url(#dopantGreenGrad)" stroke="#44aa44" stroke-width="1"/>
  <circle cx="447" cy="233" r="10" fill="none" stroke="#44cc44" stroke-width="0.8" opacity="0.5"/>
  <circle cx="479" cy="233" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="511" cy="233" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="543" cy="233" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="575" cy="233" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="607" cy="233" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="415" cy="265" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="447" cy="265" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="479" cy="265" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="511" cy="265" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="543" cy="265" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="575" cy="265" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <circle cx="607" cy="265" r="7" fill="url(#siGrad)" opacity="0.9"/>
  <line x1="415" y1="105" x2="607" y2="105" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="415" y1="137" x2="607" y2="137" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="415" y1="169" x2="607" y2="169" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="415" y1="201" x2="607" y2="201" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="415" y1="233" x2="607" y2="233" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="415" y1="265" x2="607" y2="265" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="415" y1="105" x2="415" y2="265" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="447" y1="105" x2="447" y2="265" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="479" y1="105" x2="479" y2="265" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="511" y1="105" x2="511" y2="265" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="543" y1="105" x2="543" y2="265" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="575" y1="105" x2="575" y2="265" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <line x1="607" y1="105" x2="607" y2="265" stroke="#ccd8e8" stroke-width="0.4" stroke-dasharray="2,4"/>
  <text x="395" y="285" font-size="9" fill="#44aa44">✓ 격자 복구 (Lattice Recovered)</text>
  <text x="395" y="297" font-size="8" fill="#888">불순물: 치환 자리 (Substitutional) → 전기적 활성</text>

  <!-- Legend -->
  <rect x="30" y="315" width="640" height="30" fill="white" stroke="#d0d8e0" stroke-width="1" rx="5" opacity="0.85"/>

  <circle cx="55" cy="330" r="6" fill="url(#siGrad)"/>
  <text x="65" y="334" font-size="9" fill="#2c3e50">Si 원자</text>

  <circle cx="140" cy="330" r="6" fill="url(#dopantRedGrad)" stroke="#cc4444" stroke-width="0.5"/>
  <text x="150" y="334" font-size="9" fill="#2c3e50">불순물-간격자 (Interstitial, 비활성)</text>

  <circle cx="355" cy="330" r="6" fill="url(#dopantGreenGrad)" stroke="#44aa44" stroke-width="0.5"/>
  <text x="365" y="334" font-size="9" fill="#2c3e50">불순물-치환 (Substitutional, 활성)</text>

  <circle cx="570" cy="330" r="6" fill="white" stroke="#d0d8e0" stroke-width="1.5" stroke-dasharray="2,2"/>
  <text x="580" y="334" font-size="9" fill="#2c3e50">빈자리 (Vacancy)</text>

</svg>