<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 350" width="1000" height="350">
  <defs>
    <style>
      text { font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif; }
    </style>
  </defs>
  
  <!-- Background -->
  <rect width="1000" height="350" fill="#1a1a2e" rx="8"/>
  
  <!-- Title -->
  <text x="500" y="28" text-anchor="middle" fill="#ffffff" font-size="15" font-weight="bold">Overlay 오차에 의한 단선/단락 단면도</text>
  
  <!-- Panel 1: 완벽 정렬 -->
  <g transform="translate(15, 42)">
    <rect width="230" height="270" fill="#0d1117" rx="6" stroke="#333" stroke-width="1"/>
    <!-- Label -->
    <text x="115" y="22" text-anchor="middle" fill="#32CD32" font-size="12" font-weight="bold">① 완벽 정렬</text>
    
    <!-- Structure -->
    <!-- Metal N+1 (top) -->
    <rect x="40" y="50" width="150" height="28" fill="#FFD700" rx="3"/>
    <text x="115" y="68" text-anchor="middle" fill="#1a1a2e" font-size="9" font-weight="bold">Metal N+1</text>
    
    <!-- Dielectric layer -->
    <rect x="20" y="78" width="190" height="70" fill="#4169E1" rx="2" opacity="0.7"/>
    <text x="115" y="100" text-anchor="middle" fill="#ffffff" font-size="8">층간 절연막</text>
    
    <!-- Via (centered) -->
    <rect x="90" y="78" width="50" height="70" fill="#FF8C00" rx="2"/>
    <text x="115" y="118" text-anchor="middle" fill="#ffffff" font-size="9" font-weight="bold">Via</text>
    
    <!-- Metal N (bottom) -->
    <rect x="40" y="148" width="150" height="28" fill="#FFD700" rx="3"/>
    <text x="115" y="166" text-anchor="middle" fill="#1a1a2e" font-size="9" font-weight="bold">Metal N</text>
    
    <!-- Alignment arrows -->
    <line x1="115" y1="40" x2="115" y2="185" stroke="#32CD32" stroke-width="1" stroke-dasharray="4,3" opacity="0.6"/>
    
    <!-- Status indicator -->
    <circle cx="115" cy="200" r="8" fill="#32CD32"/>
    <text x="115" y="203" text-anchor="middle" fill="#fff" font-size="9">✓</text>
    
    <!-- Result -->
    <text x="115" y="225" text-anchor="middle" fill="#32CD32" font-size="10">정상 접촉</text>
    <text x="115" y="240" text-anchor="middle" fill="#32CD32" font-size="10">낮은 저항</text>
    
    <!-- Contact area indicator -->
    <rect x="90" y="145" width="50" height="6" fill="#32CD32" opacity="0.5" rx="1"/>
    <text x="115" y="260" text-anchor="middle" fill="#888" font-size="8">접촉 면적: 100%</text>
  </g>
  
  <!-- Panel 2: 미세 오차 -->
  <g transform="translate(260, 42)">
    <rect width="230" height="270" fill="#0d1117" rx="6" stroke="#333" stroke-width="1"/>
    <text x="115" y="22" text-anchor="middle" fill="#FFA500" font-size="12" font-weight="bold">② 미세 오차 (~1nm)</text>
    
    <!-- Metal N+1 -->
    <rect x="40" y="50" width="150" height="28" fill="#FFD700" rx="3"/>
    <text x="115" y="68" text-anchor="middle" fill="#1a1a2e" font-size="9" font-weight="bold">Metal N+1</text>
    
    <!-- Dielectric -->
    <rect x="20" y="78" width="190" height="70" fill="#4169E1" rx="2" opacity="0.7"/>
    
    <!-- Via (slightly offset right) -->
    <rect x="105" y="78" width="50" height="70" fill="#FF8C00" rx="2"/>
    <text x="130" y="118" text-anchor="middle" fill="#ffffff" font-size="9" font-weight="bold">Via</text>
    
    <!-- Metal N -->
    <rect x="40" y="148" width="150" height="28" fill="#FFD700" rx="3"/>
    <text x="115" y="166" text-anchor="middle" fill="#1a1a2e" font-size="9" font-weight="bold">Metal N</text>
    
    <!-- Alignment lines showing offset -->
    <line x1="115" y1="40" x2="115" y2="185" stroke="#888" stroke-width="1" stroke-dasharray="4,3" opacity="0.4"/>
    <line x1="130" y1="78" x2="130" y2="148" stroke="#FFA500" stroke-width="1" stroke-dasharray="4,3" opacity="0.6"/>
    
    <!-- Offset arrow -->
    <line x1="115" y1="130" x2="128" y2="130" stroke="#FFA500" stroke-width="1.5" marker-end="url(#arrowOrange)"/>
    
    <!-- Partial contact area -->
    <rect x="105" y="145" width="35" height="6" fill="#FFA500" opacity="0.5" rx="1"/>
    
    <!-- Status -->
    <circle cx="115" cy="200" r="8" fill="#FFA500"/>
    <text x="115" y="204" text-anchor="middle" fill="#fff" font-size="10">⚠</text>
    
    <text x="115" y="225" text-anchor="middle" fill="#FFA500" font-size="10">접촉 면적 감소</text>
    <text x="115" y="240" text-anchor="middle" fill="#FFA500" font-size="10">저항 증가</text>
    <text x="115" y="260" text-anchor="middle" fill="#888" font-size="8">접촉 면적: ~70%</text>
  </g>
  
  <!-- Panel 3: 심한 오차 (Open) -->
  <g transform="translate(505, 42)">
    <rect width="230" height="270" fill="#0d1117" rx="6" stroke="#333" stroke-width="1"/>
    <text x="115" y="22" text-anchor="middle" fill="#FF0000" font-size="12" font-weight="bold">③ 심한 오차 → 단선</text>
    
    <!-- Metal N+1 -->
    <rect x="40" y="50" width="150" height="28" fill="#FFD700" rx="3"/>
    <text x="115" y="68" text-anchor="middle" fill="#1a1a2e" font-size="9" font-weight="bold">Metal N+1</text>
    
    <!-- Dielectric -->
    <rect x="20" y="78" width="190" height="70" fill="#4169E1" rx="2" opacity="0.7"/>
    
    <!-- Via (far offset - not touching Metal N) -->
    <rect x="140" y="78" width="50" height="70" fill="#FF8C00" rx="2"/>
    <text x="165" y="118" text-anchor="middle" fill="#ffffff" font-size="9" font-weight="bold">Via</text>
    
    <!-- Metal N -->
    <rect x="40" y="148" width="100" height="28" fill="#FFD700" rx="3"/>
    <text x="90" y="166" text-anchor="middle" fill="#1a1a2e" font-size="9" font-weight="bold">Metal N</text>
    
    <!-- Gap indicator -->
    <line x1="140" y1="148" x2="140" y2="176" stroke="#FF0000" stroke-width="2" stroke-dasharray="3,2"/>
    <text x="142" y="160" fill="#FF0000" font-size="18" font-weight="bold">✕</text>
    
    <!-- Open gap flash -->
    <rect x="140" y="145" width="50" height="6" fill="#FF0000" opacity="0.3" rx="1">
      <animate attributeName="opacity" values="0.1;0.5;0.1" dur="2s" repeatCount="indefinite"/>
    </rect>
    
    <!-- Status -->
    <circle cx="115" cy="200" r="8" fill="#FF0000"/>
    <text x="115" y="204" text-anchor="middle" fill="#fff" font-size="10">✕</text>
    
    <text x="115" y="225" text-anchor="middle" fill="#FF0000" font-size="10">Via-Metal 미접촉</text>
    <text x="115" y="240" text-anchor="middle" fill="#FF0000" font-size="10">Open Failure</text>
    <text x="115" y="260" text-anchor="middle" fill="#888" font-size="8">접촉 면적: 0%</text>
  </g>
  
  <!-- Panel 4: 인접 배선 단락 (Short) -->
  <g transform="translate(750, 42)">
    <rect width="235" height="270" fill="#0d1117" rx="6" stroke="#333" stroke-width="1"/>
    <text x="117" y="22" text-anchor="middle" fill="#FF0000" font-size="12" font-weight="bold">④ 인접 배선 단락</text>
    
    <!-- Metal N+1 -->
    <rect x="30" y="50" width="80" height="28" fill="#FFD700" rx="3"/>
    <text x="70" y="68" text-anchor="middle" fill="#1a1a2e" font-size="8" font-weight="bold">Metal N+1</text>
    <!-- Adjacent Metal N+1 -->
    <rect x="125" y="50" width="80" height="28" fill="#FFD700" rx="3" opacity="0.7"/>
    <text x="165" y="68" text-anchor="middle" fill="#1a1a2e" font-size="7">인접 배선</text>
    
    <!-- Dielectric -->
    <rect x="10" y="78" width="215" height="70" fill="#4169E1" rx="2" opacity="0.7"/>
    
    <!-- Via (shifted to touch neighbor) -->
    <rect x="95" y="78" width="50" height="70" fill="#FF8C00" rx="2"/>
    <text x="120" y="118" text-anchor="middle" fill="#ffffff" font-size="9" font-weight="bold">Via</text>
    
    <!-- Short circuit flash -->
    <rect x="110" y="50" width="18" height="28" fill="#FF0000" opacity="0.4" rx="1">
      <animate attributeName="opacity" values="0.2;0.7;0.2" dur="1.5s" repeatCount="indefinite"/>
    </rect>
    
    <!-- Lightning bolt for short -->
    <text x="118" y="66" text-anchor="middle" fill="#FF0000" font-size="14">⚡</text>
    
    <!-- Metal N -->
    <rect x="30" y="148" width="80" height="28" fill="#FFD700" rx="3"/>
    <text x="70" y="166" text-anchor="middle" fill="#1a1a2e" font-size="8" font-weight="bold">Metal N</text>
    <rect x="125" y="148" width="80" height="28" fill="#FFD700" rx="3" opacity="0.7"/>
    
    <!-- Status -->
    <circle cx="117" cy="200" r="8" fill="#FF0000"/>
    <text x="117" y="204" text-anchor="middle" fill="#fff" font-size="10">✕</text>
    
    <text x="117" y="225" text-anchor="middle" fill="#FF0000" font-size="10">인접 배선 접촉</text>
    <text x="117" y="240" text-anchor="middle" fill="#FF0000" font-size="10">Short Failure</text>
    <text x="117" y="260" text-anchor="middle" fill="#888" font-size="8">의도치 않은 도통</text>
  </g>
  
  <!-- Bottom legend -->
  <g transform="translate(0, 325)">
    <rect x="30" y="0" width="12" height="12" fill="#FFD700" rx="2"/>
    <text x="46" y="10" fill="#aaa" font-size="9">Metal</text>
    <rect x="100" y="0" width="12" height="12" fill="#FF8C00" rx="2"/>
    <text x="116" y="10" fill="#aaa" font-size="9">Via</text>
    <rect x="160" y="0" width="12" height="12" fill="#4169E1" rx="2" opacity="0.7"/>
    <text x="176" y="10" fill="#aaa" font-size="9">층간 절연막</text>
    
    <circle cx="290" r="5" cy="6" fill="#32CD32"/>
    <text x="300" y="10" fill="#aaa" font-size="9">정상</text>
    <circle cx="350" r="5" cy="6" fill="#FFA500"/>
    <text x="360" y="10" fill="#aaa" font-size="9">경고</text>
    <circle cx="410" r="5" cy="6" fill="#FF0000"/>
    <text x="420" y="10" fill="#aaa" font-size="9">불량</text>
  </g>
  
  <!-- Arrow marker defs -->
  <defs>
    <marker id="arrowOrange" markerWidth="6" markerHeight="4" refX="5" refY="2" orient="auto">
      <path d="M0,0 L6,2 L0,4 Z" fill="#FFA500"/>
    </marker>
  </defs>
</svg>